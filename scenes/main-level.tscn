[gd_scene load_steps=31 format=3 uid="uid://btuvbhvc412un"]

[ext_resource type="PackedScene" uid="uid://dsdtpug2sa4g0" path="res://scenes/player.tscn" id="1_djt6b"]
[ext_resource type="PackedScene" uid="uid://65lfj6gmngyw" path="res://scenes/trampoline.tscn" id="3_6rdlt"]
[ext_resource type="Texture2D" uid="uid://b8iq2rdtnrvmj" path="res://sprites/wall-basic.png" id="3_bdrgs"]
[ext_resource type="PackedScene" uid="uid://clbg6qul035bg" path="res://scenes/grave.tscn" id="4_yyih8"]
[ext_resource type="PackedScene" uid="uid://c2s4o300l8sf4" path="res://scenes/toxic_ground.tscn" id="5_6rdlt"]
[ext_resource type="Texture2D" uid="uid://glkrutqer0mx" path="res://sprites/bg-temp.jpg" id="7_s2kee"]
[ext_resource type="Script" uid="uid://bpk64m74d0ygy" path="res://scripts/main_camera.gd" id="7_vrglu"]
[ext_resource type="PackedScene" uid="uid://50wu1jt67mqg" path="res://scenes/ui.tscn" id="9_6g0xn"]
[ext_resource type="PackedScene" uid="uid://1cdkvfj1vbge" path="res://scenes/power_up_instance.tscn" id="10_dr822"]
[ext_resource type="Script" uid="uid://c2ii2mke1pk65" path="res://scripts/power_up_shop.gd" id="11_aqsxy"]
[ext_resource type="Resource" uid="uid://bmx4tbxu0gfdu" path="res://resources/jumpy-shovel.tres" id="11_cvmw5"]
[ext_resource type="Resource" uid="uid://bvyautccwn7xh" path="res://resources/powerup-life.tres" id="12_5usra"]
[ext_resource type="Script" uid="uid://yl18bua5kdc3" path="res://scripts/power_up.gd" id="12_dr822"]
[ext_resource type="Resource" uid="uid://dmhulh2ca188t" path="res://resources/potion.tres" id="13_7wgpl"]
[ext_resource type="Texture2D" uid="uid://bnjc0cbacld0g" path="res://sprites/2d_lights_and_shadows_neutral_point_light.webp" id="13_cvmw5"]
[ext_resource type="Resource" uid="uid://bkih55vqd3qcg" path="res://resources/powerup-sticky-boots.tres" id="13_h2e2k"]
[ext_resource type="Shader" uid="uid://bam5m8hgrlq8o" path="res://shaders/rain.gdshader" id="14_dr822"]
[ext_resource type="Shader" uid="uid://baxeibtcr3gqm" path="res://shaders/vignette.gdshader" id="14_vl0b8"]
[ext_resource type="SpriteFrames" uid="uid://dok01gl1a6dqy" path="res://resources/powerup-sticky-boots-frames.tres" id="18_5usra"]

[sub_resource type="ShaderMaterial" id="ShaderMaterial_7wgpl"]
shader = ExtResource("14_dr822")
shader_parameter/rain_amount = 200.0
shader_parameter/near_rain_length = 0.04
shader_parameter/far_rain_length = 0.01
shader_parameter/near_rain_width = 0.06
shader_parameter/far_rain_width = 0.02
shader_parameter/near_rain_transparency = 1.0
shader_parameter/far_rain_transparency = 1.0
shader_parameter/rain_color = Color(0.86, 0.86, 0.86, 0.203922)
shader_parameter/base_rain_speed = 0.5
shader_parameter/additional_rain_speed = 0.5
shader_parameter/slant = 0.176

[sub_resource type="Theme" id="Theme_yvcr4"]

[sub_resource type="RectangleShape2D" id="RectangleShape2D_bdrgs"]
size = Vector2(24, 24)

[sub_resource type="AtlasTexture" id="AtlasTexture_dfkck"]
atlas = ExtResource("3_bdrgs")
region = Rect2(0, 0, 24, 24)

[sub_resource type="SpriteFrames" id="SpriteFrames_6g0xn"]
animations = [{
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_dfkck")
}],
"loop": true,
"name": &"default",
"speed": 10.0
}]

[sub_resource type="Gradient" id="Gradient_6g0xn"]
colors = PackedColorArray(1, 1, 1, 1, 1, 1, 1, 0)

[sub_resource type="GradientTexture1D" id="GradientTexture1D_s2kee"]
gradient = SubResource("Gradient_6g0xn")

[sub_resource type="ParticleProcessMaterial" id="ParticleProcessMaterial_aqsxy"]
particle_flag_disable_z = true
emission_shape_scale = Vector3(450, 1, 1)
emission_shape = 3
emission_box_extents = Vector3(1, 1, 1)
gravity = Vector3(0, -20, 0)
scale_max = 2.0
color_ramp = SubResource("GradientTexture1D_s2kee")

[sub_resource type="ShaderMaterial" id="ShaderMaterial_dr822"]
shader = ExtResource("14_vl0b8")
shader_parameter/resolution = Vector2(1920, 1080)
shader_parameter/scan_line_amount = 0.1
shader_parameter/warp_amount = 0.05
shader_parameter/noise_amount = 0.01
shader_parameter/interference_amount = 0.0
shader_parameter/grille_amount = 0.1
shader_parameter/grille_size = 1.0
shader_parameter/vignette_amount = 0.6
shader_parameter/vignette_intensity = 0.181
shader_parameter/aberation_amount = 0.0
shader_parameter/roll_line_amount = 0.0
shader_parameter/roll_speed = 1.0
shader_parameter/scan_line_strength = -1.0
shader_parameter/pixel_strength = -4.0

[sub_resource type="Gradient" id="Gradient_vl0b8"]

[sub_resource type="GradientTexture2D" id="GradientTexture2D_dr822"]
gradient = SubResource("Gradient_vl0b8")

[node name="Level" type="Node2D"]

[node name="Scenery" type="Node2D" parent="."]
unique_name_in_owner = true

[node name="Background" type="Sprite2D" parent="Scenery"]
modulate = Color(0.210588, 0.190222, 0.275639, 1)
light_mask = 2
z_index = -10
texture_filter = 1
scale = Vector2(0.5, 0.5)
texture = ExtResource("7_s2kee")
metadata/_edit_lock_ = true

[node name="Rain" type="ColorRect" parent="Scenery"]
modulate = Color(1, 1, 1, 0.835294)
light_mask = 2
z_index = -9
texture_filter = 1
texture_repeat = 1
material = SubResource("ShaderMaterial_7wgpl")
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
offset_left = -350.0
offset_top = -213.0
offset_right = 377.0
offset_bottom = 237.0
grow_horizontal = 2
grow_vertical = 2
size_flags_horizontal = 3
size_flags_vertical = 3
theme = SubResource("Theme_yvcr4")
color = Color(0, 0, 0, 1)

[node name="Trampoline" parent="Scenery" instance=ExtResource("3_6rdlt")]
position = Vector2(-90, -36)

[node name="StartingGround" type="StaticBody2D" parent="Scenery"]
position = Vector2(0, -12)
scale = Vector2(8.52, 1)
collision_mask = 0

[node name="Collision" type="CollisionShape2D" parent="Scenery/StartingGround"]
shape = SubResource("RectangleShape2D_bdrgs")

[node name="AnimatedSprite2D" type="AnimatedSprite2D" parent="Scenery/StartingGround"]
texture_filter = 1
sprite_frames = SubResource("SpriteFrames_6g0xn")
metadata/_aseprite_wizard_interface_config_ = {
"output_section": true,
"pending_changes": {}
}
metadata/_aseprite_wizard_config_ = {
"layers": [],
"o_ex_p": "",
"o_folder": "res://sprites",
"o_name": "",
"only_visible": false,
"should_round_fps": true,
"slice": "",
"source": "/home/alex/Pictures/sprites/wall-basic.aseprite"
}
metadata/_aseprite_wizard_source_file_hash_ = "ce21a8c23547eda88827e5370fa21a5e"

[node name="LeftWall" type="StaticBody2D" parent="Scenery"]
position = Vector2(-114, 0)
rotation = 1.57079
scale = Vector2(24, 1)

[node name="CollisionShape2D" type="CollisionShape2D" parent="Scenery/LeftWall"]
shape = SubResource("RectangleShape2D_bdrgs")

[node name="AnimatedSprite2D" type="AnimatedSprite2D" parent="Scenery/LeftWall"]
light_mask = 2
texture_filter = 1
sprite_frames = SubResource("SpriteFrames_6g0xn")
metadata/_aseprite_wizard_interface_config_ = {
"output_section": true,
"pending_changes": {}
}
metadata/_aseprite_wizard_config_ = {
"layers": [],
"o_ex_p": "",
"o_folder": "res://sprites",
"o_name": "",
"only_visible": false,
"should_round_fps": true,
"slice": "",
"source": "/home/alex/Pictures/sprites/wall-basic.aseprite"
}
metadata/_aseprite_wizard_source_file_hash_ = "ce21a8c23547eda88827e5370fa21a5e"

[node name="RightWall" type="StaticBody2D" parent="Scenery"]
position = Vector2(114, 5.50244e-11)
rotation = -1.57079
scale = Vector2(24, 1)

[node name="CollisionShape2D" type="CollisionShape2D" parent="Scenery/RightWall"]
shape = SubResource("RectangleShape2D_bdrgs")

[node name="AnimatedSprite2D" type="AnimatedSprite2D" parent="Scenery/RightWall"]
light_mask = 2
texture_filter = 1
sprite_frames = SubResource("SpriteFrames_6g0xn")
metadata/_aseprite_wizard_interface_config_ = {
"output_section": true,
"pending_changes": {}
}
metadata/_aseprite_wizard_config_ = {
"layers": [],
"o_ex_p": "",
"o_folder": "res://sprites",
"o_name": "",
"only_visible": false,
"should_round_fps": true,
"slice": "",
"source": "/home/alex/Pictures/sprites/wall-basic.aseprite"
}
metadata/_aseprite_wizard_source_file_hash_ = "ce21a8c23547eda88827e5370fa21a5e"

[node name="Bottom" type="Node2D" parent="Scenery"]
position = Vector2(-308, 180)

[node name="ToxicGround" parent="Scenery/Bottom" instance=ExtResource("5_6rdlt")]
position = Vector2(4, -12)

[node name="ToxicGround28" parent="Scenery/Bottom" instance=ExtResource("5_6rdlt")]
position = Vector2(-20, -12)

[node name="ToxicGround2" parent="Scenery/Bottom" instance=ExtResource("5_6rdlt")]
position = Vector2(28, -12)

[node name="ToxicGround3" parent="Scenery/Bottom" instance=ExtResource("5_6rdlt")]
position = Vector2(52, -12)

[node name="ToxicGround4" parent="Scenery/Bottom" instance=ExtResource("5_6rdlt")]
position = Vector2(76, -12)

[node name="ToxicGround5" parent="Scenery/Bottom" instance=ExtResource("5_6rdlt")]
position = Vector2(100, -12)

[node name="ToxicGround6" parent="Scenery/Bottom" instance=ExtResource("5_6rdlt")]
position = Vector2(124, -12)

[node name="ToxicGround7" parent="Scenery/Bottom" instance=ExtResource("5_6rdlt")]
position = Vector2(148, -12)

[node name="ToxicGround8" parent="Scenery/Bottom" instance=ExtResource("5_6rdlt")]
position = Vector2(172, -12)

[node name="ToxicGround9" parent="Scenery/Bottom" instance=ExtResource("5_6rdlt")]
position = Vector2(196, -12)

[node name="ToxicGround10" parent="Scenery/Bottom" instance=ExtResource("5_6rdlt")]
position = Vector2(220, -12)

[node name="ToxicGround11" parent="Scenery/Bottom" instance=ExtResource("5_6rdlt")]
position = Vector2(244, -12)

[node name="ToxicGround12" parent="Scenery/Bottom" instance=ExtResource("5_6rdlt")]
position = Vector2(268, -12)

[node name="ToxicGround13" parent="Scenery/Bottom" instance=ExtResource("5_6rdlt")]
position = Vector2(292, -12)

[node name="ToxicGround14" parent="Scenery/Bottom" instance=ExtResource("5_6rdlt")]
position = Vector2(316, -12)

[node name="ToxicGround15" parent="Scenery/Bottom" instance=ExtResource("5_6rdlt")]
position = Vector2(340, -12)

[node name="ToxicGround16" parent="Scenery/Bottom" instance=ExtResource("5_6rdlt")]
position = Vector2(364, -12)

[node name="ToxicGround17" parent="Scenery/Bottom" instance=ExtResource("5_6rdlt")]
position = Vector2(388, -12)

[node name="ToxicGround18" parent="Scenery/Bottom" instance=ExtResource("5_6rdlt")]
position = Vector2(412, -12)

[node name="ToxicGround19" parent="Scenery/Bottom" instance=ExtResource("5_6rdlt")]
position = Vector2(436, -12)

[node name="ToxicGround20" parent="Scenery/Bottom" instance=ExtResource("5_6rdlt")]
position = Vector2(460, -12)

[node name="ToxicGround21" parent="Scenery/Bottom" instance=ExtResource("5_6rdlt")]
position = Vector2(484, -12)

[node name="ToxicGround22" parent="Scenery/Bottom" instance=ExtResource("5_6rdlt")]
position = Vector2(508, -12)

[node name="ToxicGround23" parent="Scenery/Bottom" instance=ExtResource("5_6rdlt")]
position = Vector2(532, -12)

[node name="ToxicGround24" parent="Scenery/Bottom" instance=ExtResource("5_6rdlt")]
position = Vector2(556, -12)

[node name="ToxicGround25" parent="Scenery/Bottom" instance=ExtResource("5_6rdlt")]
position = Vector2(580, -12)

[node name="ToxicGround26" parent="Scenery/Bottom" instance=ExtResource("5_6rdlt")]
position = Vector2(604, -12)

[node name="ToxicGround27" parent="Scenery/Bottom" instance=ExtResource("5_6rdlt")]
position = Vector2(628, -12)

[node name="GPUParticles2D" type="GPUParticles2D" parent="Scenery/Bottom"]
modulate = Color(0.415686, 0.741176, 0.188235, 1)
position = Vector2(308, -21)
amount = 64
lifetime = 2.0
process_material = SubResource("ParticleProcessMaterial_aqsxy")

[node name="Grave" parent="Scenery" instance=ExtResource("4_yyih8")]
position = Vector2(90, -36)

[node name="PointLight2D" type="PointLight2D" parent="Scenery"]
z_index = -4096
texture_filter = 1
position = Vector2(0, 134)
rotation = -1.57079
scale = Vector2(0.368413, 1.70722)
color = Color(0.498039, 0.776471, 0.235294, 1)
energy = 2.0
range_item_cull_mask = 2
shadow_color = Color(0, 0, 0, 1)
shadow_item_cull_mask = 15
texture = ExtResource("13_cvmw5")
texture_scale = 2.0

[node name="RewardContainer" type="Node2D" parent="Scenery"]

[node name="EnemyContainer" type="Node2D" parent="Scenery"]

[node name="PowerUpShop" type="Node2D" parent="Scenery"]
position = Vector2(-29, -104)
script = ExtResource("11_aqsxy")
all_powerups = Array[ExtResource("12_dr822")]([ExtResource("13_7wgpl"), ExtResource("11_cvmw5"), ExtResource("12_5usra"), ExtResource("13_h2e2k")])
instance = ExtResource("10_dr822")
instance_padding = 32

[node name="Player" parent="." instance=ExtResource("1_djt6b")]
unique_name_in_owner = true
position = Vector2(0, -35)
failed_attack_str_mult = 0.6
parry_raycast_distance = 50.0

[node name="MainCamera" type="Camera2D" parent="."]
zoom = Vector2(3, 3)
script = ExtResource("7_vrglu")
on_hit_shake = 0.2
max_y_increase = 600.0

[node name="UI" parent="." instance=ExtResource("9_6g0xn")]

[node name="CanvasLayer" type="CanvasLayer" parent="."]

[node name="TextureRect" type="TextureRect" parent="CanvasLayer"]
material = SubResource("ShaderMaterial_dr822")
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
size_flags_horizontal = 3
size_flags_vertical = 3
theme = SubResource("Theme_yvcr4")
texture = SubResource("GradientTexture2D_dr822")

[node name="SpriteImporter" type="Node2D" parent="."]
visible = false
position = Vector2(-490, 0)

[node name="AnimatedSprite2D" type="AnimatedSprite2D" parent="SpriteImporter"]
texture_filter = 1
sprite_frames = ExtResource("18_5usra")
autoplay = "default"
metadata/_aseprite_wizard_interface_config_ = {
"output_section": true,
"pending_changes": {}
}
metadata/_aseprite_wizard_config_ = {
"layers": [],
"o_ex_p": "",
"o_folder": "res://sprites",
"o_name": "",
"only_visible": false,
"should_round_fps": true,
"slice": "",
"source": "/home/alex/Pictures/sprites/powerup-sticky-boots.aseprite"
}
metadata/_aseprite_wizard_source_file_hash_ = "5e3709169484a4d1f80438f8a134fc03"
